########################################################
#  Configuration file for Slurm - 2021-12-03T07:08:26  #
########################################################
#
#
#
################################################
#                   CONTROL                    #
################################################
ClusterName=mzc_cluster
SlurmUser=root
SlurmctldHost=pod641
SlurmctldPort=6817
SlurmdPort=6818
SlurmdUser=root
#
################################################
#            LOGGING & OTHER PATHS             #
################################################
SlurmctldLogFile=/var/log/slurm/slurmctld.log
SlurmdLogFile=/var/log/slurm/slurmd.log
SlurmdPidFile=/var/run/slurm-llnl/slurmd.pid
SlurmdSpoolDir=/var/spool/slurmd
#SlurmSchedLogFile=
SlurmctldPidFile=/var/run/slurm-llnl/slurmctld.pid
StateSaveLocation=/var/spool/slurm-llnl
#
################################################
#                  ACCOUNTING                  #
################################################
#AccountingStorageBackupHost=
AccountingStorageEnforce=none
AccountingStorageHost=localhost
#AccountingStorageLoc=
AccountingStoragePort=6819
AccountingStorageType=accounting_storage/slurmdbd
#AccountingStorageUser=
AccountingStoreJobComment=Yes
AcctGatherEnergyType=acct_gather_energy/none
AcctGatherFilesystemType=acct_gather_filesystem/none
AcctGatherInterconnectType=acct_gather_interconnect/none
AcctGatherNodeFreq=0
AcctGatherProfileType=acct_gather_profile/none
ExtSensorsType=ext_sensors/none
ExtSensorsFreq=0
JobAcctGatherFrequency=30
JobAcctGatherType=jobacct_gather/linux
#
################################################
#           SCHEDULING & ALLOCATION            #
################################################
PreemptMode=OFF
PreemptType=preempt/none
PreemptExemptTime=00:00:00
PriorityType=priority/basic
#SchedulerParameters=
SchedulerTimeSlice=30
SchedulerType=sched/backfill
SelectType=select/vipu
SelectTypeParameters=CR_CPU,OTHER_CONS_RES
SlurmSchedLogLevel=0
#
################################################
#                   TOPOLOGY                   #
################################################
TopologyPlugin=topology/none
#
################################################
#                    TIMERS                    #
################################################
BatchStartTimeout=10
CompleteWait=0
EpilogMsgTime=2000
GetEnvTimeout=2
InactiveLimit=0
KillWait=30
MinJobAge=300
SlurmctldTimeout=120
SlurmdTimeout=300
WaitTime=0
#
################################################
#                    POWER                     #
################################################
#ResumeProgram=
ResumeRate=300
ResumeTimeout=60
#SuspendExcNodes=
#SuspendExcParts=
#SuspendProgram=
SuspendRate=60
SuspendTime=NONE
SuspendTimeout=30
#
################################################
#                    DEBUG                     #
################################################
DebugFlags=NO_CONF_HASH
SlurmctldDebug=debug2
SlurmdDebug=info
#
################################################
#               EPILOG & PROLOG                #
################################################
#Epilog=
#Prolog=
#SrunEpilog=
#SrunProlog=
#TaskEpilog=
#TaskProlog=
#
################################################
#               PROCESS TRACKING               #
################################################
ProctrackType=proctrack/pgid
#
################################################
#             RESOURCE CONFINEMENT             #
################################################
TaskPlugin=task/none
#TaskPluginParam=
#
################################################
#                    OTHER                     #
################################################
AccountingStorageTRES=cpu,mem,energy,node,billing,fs/disk,vmem,pages
AllowSpecResourcesUsage=No
#AuthAltTypes=
#AuthInfo=
AuthType=auth/munge
#BurstBufferType=
#CliFilterPlugins=
#CommunicationParameters=
CoreSpecPlugin=core_spec/none
#CpuFreqDef=
CpuFreqGovernors=Performance,OnDemand,UserSpace
CredType=cred/munge
#DefMemPerNode=
#DependencyParameters=
DisableRootJobs=No
EioTimeout=60
EnforcePartLimits=NO
#EpilogSlurmctld=
#FederationParameters=
FirstJobId=1
GresTypes=vipu
GpuFreqDef=high,memory=high
GroupUpdateForce=1
GroupUpdateTime=600
HealthCheckInterval=0
HealthCheckNodeState=ANY
#HealthCheckProgram=
#JobAcctGatherParams=
JobCompHost=localhost
JobCompLoc=/var/log/slurm_jobcomp.log
JobCompPort=0
JobCompType=jobcomp/none
JobCompUser=root
JobContainerType=job_container/none
#JobCredentialPrivateKey=
#JobCredentialPublicCertificate=
#JobDefaults=
JobFileAppend=0
JobRequeue=1
JobSubmitPlugins=vipu
#KeepAliveTime=
KillOnBadExit=0
#LaunchParameters=
LaunchType=launch/slurm
#Layouts=
#Licenses=
LogTimeFormat=iso8601_ms
#MailDomain=
MailProg=/bin/mail
MaxArraySize=1001
MaxDBDMsgs=20004
MaxJobCount=10000
MaxJobId=67043328
MaxMemPerNode=UNLIMITED
MaxStepCount=40000
MaxTasksPerNode=512
MCSPlugin=mcs/none
#MCSParameters=
MessageTimeout=10
MpiDefault=none
#MpiParams=
#MsgAggregationParams=
#NodeFeaturesPlugins=
OverTimeLimit=0
PluginDir=/opt/slurm-20.02.7/lib/slurm
#PlugStackConfig=
#PowerParameters=
#PowerPlugin=
#PrEpParameters=
PrEpPlugins=prep/script
#PriorityParameters=
#PrioritySiteFactorParameters=
#PrioritySiteFactorPlugin=
PrivateData=none
PrologEpilogTimeout=65534
#PrologSlurmctld=
#PrologFlags=
PropagatePrioProcess=0
PropagateResourceLimits=ALL
#PropagateResourceLimitsExcept=
#RebootProgram=
#ReconfigFlags=
#RequeueExit=
#RequeueExitHold=
#ResumeFailProgram=
#ResvEpilog=
ResvOverRun=0
#ResvProlog=
ReturnToService=1
RoutePlugin=route/default
#SallocDefaultCommand=
#SbcastParameters=
#SlurmctldAddr=
#SlurmctldSyslogDebug=
#SlurmctldPrimaryOffProg=
#SlurmctldPrimaryOnProg=
#SlurmctldParameters=
#SlurmdParameters=
#SlurmdSyslogDebug=
#SlurmctldPlugstack=
SrunPortRange=0-0
SwitchType=switch/none
TCPTimeout=2
TmpFS=/tmp
#TopologyParam=
TrackWCKey=No
TreeWidth=50
UsePam=No
#UnkillableStepProgram=
UnkillableStepTimeout=60
VSizeFactor=0
#X11Parameters=
VipuIpuofDir=/tmp/.ipuof.conf.d/
#
################################################
#                    NODES                     #
################################################
NodeName=pod641 Sockets=2 CoresPerSocket=64 ThreadsPerCore=2 Gres=vipu:pod64:64 RealMemory=773668
#
################################################
#                  PARTITIONS                  #
################################################
PartitionName=v-ipu Default=YES MinNodes=0 Nodes=pod641 State=UP
